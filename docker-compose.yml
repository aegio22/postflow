version: "3.9"

services:
  postflow-server:
    image: postflow-server:latest
    build: .
    ports:
      - "8080:8080"
    environment:
      # Postgres connection string (adjust host/user/pass/db)
      DATABASE_URL: "postgres://user:pass@host.docker.internal:5432/postflow?sslmode=disable"
      # AWS / S3 config
      AWS_REGION: "us-east-1"
      S3_BUCKET: "your-s3-bucket-name"
      AWS_ACCESS_KEY_ID: "YOUR_ACCESS_KEY_ID"
      AWS_SECRET_ACCESS_KEY: "YOUR_SECRET_ACCESS_KEY"
      # Server port inside container (matches EXPOSE)
      PORT: ":8080"
